<h2>Ajouter un voyage</h2>


<form [formGroup]="travelForm" (ngSubmit)="onTravelSubmit()">

  <label for="travelType">Moyen de transport</label>
  <select name="travelType" id="travelType" formControlName="travelType">
    <option value="car">Voiture</option>
    <option value="train">Train</option>
    <option value="plane">Avion</option>
  </select>
  @if (travelForm.get('travelType')?.hasError('pattern')) {
    <div class="error">Le choix est incorrect !</div>
  }

  <label for="distance">Distance</label>
  <input type="number" id="distance" name="distance" formControlName="distance">
  @if (travelForm.get('distance')?.dirty) {
    @if (travelForm.get('distance')?.hasError('min')) {
      <div class="error">La distance doit être positive !</div>
    }
    @if (travelForm.get('distance')?.hasError('required')) {
      <div class="error">La distance est obligatoire !</div>
    }
  }

  @if (travelForm.get('travelType')?.value == 'car') {
    <label for="consumption">Consommation</label>
    <input type="number" id="consumption" name="consumption" formControlName="consumption">
    @if (travelForm.get('consumption')?.dirty) {
      @if (travelForm.get('consumption')?.hasError('min')) {
        <div class="error">La consommation doit être positive !</div>
      }
      @if (travelForm.get('consumption')?.hasError('required')) {
        <div class="error">La consommation est obligatoire !</div>
      }
    }
  }

  <label for="date">Date</label>
  <input type="date" id="date" name="date" formControlName="date">
  @if (travelForm.get('date')?.dirty) {
    @if (travelForm.get('date')?.hasError('required')) {
      <div class="error">La date est obligatoire !</div>
    }
  }

  <button type="submit">GO</button>
</form>
